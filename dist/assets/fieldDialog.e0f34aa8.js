/*! 
 Build based on gin-vue-admin 
 Time : 1678354544000 */
/* empty css             */import{E as e,a as l}from"./form-item.b18f90c3.js";import{E as a}from"./switch.1309e437.js";/* empty css              */import"./tag.0bb54889.js";import{a as u,E as d}from"./select.0319208d.js";import"./scrollbar.561042ca.js";/* empty css               *//* empty css               */import{a as o,t}from"./stringFun.1a90c7e7.js";import{g as i}from"./sysDictionary.bc8f23a2.js";import{W as r}from"./warningBar.b44e96f3.js";import{_ as m,r as s,o as p,c as n,e as f,w as v,V as b,aD as c,b as y,E as V,a1 as g,bi as T,bj as E,d as _}from"./index.12a9298d.js";import"./_Uint8Array.f5d85d65.js";import"./_initCloneObject.8371cae6.js";import"./index.bf155b92.js";import"./index.f53077c2.js";import"./strings.e4f34ae9.js";import"./isEqual.471ce309.js";/* empty css             */const j=(e=>(T("data-v-9dd49345"),e=e(),E(),e))((()=>_("span",{style:{"font-size":"12px"}},"自动填充",-1))),N={name:"FieldDialog"},h=m(Object.assign(N,{props:{dialogMiddle:{type:Object,default:function(){return{}}}},setup(m,{expose:T}){const E=m,_=s({}),N=s([]),h=s([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),U=s([{label:"字符串",value:"string"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"}]),w=s({fieldName:[{required:!0,message:"请输入field英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入field中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入field格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择field数据类型",trigger:"blur"}]});(async()=>{_.value=E.dialogMiddle;const e=await i({page:1,pageSize:999999});N.value=e.data.list})();const F=()=>{_.value.fieldJson=o(_.value.fieldName),_.value.columnName=t(_.value.fieldJson)},x=()=>{_.value.fieldSearchType="",_.value.dictType=""},D=s(null);return T({fieldDialogFrom:D}),(o,t)=>{const i=y,m=V,s=e,T=d,E=u,q=a,B=l;return p(),n("div",null,[f(r,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),f(B,{ref_key:"fieldDialogFrom",ref:D,model:_.value,"label-width":"120px","label-position":"right",rules:w.value,class:"grid-form"},{default:v((()=>[f(s,{label:"Field名称",prop:"fieldName"},{default:v((()=>[f(i,{modelValue:_.value.fieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>_.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),f(m,{style:{width:"18%","margin-left":"2%"},onClick:F},{default:v((()=>[j])),_:1})])),_:1}),f(s,{label:"Field中文名",prop:"fieldDesc"},{default:v((()=>[f(i,{modelValue:_.value.fieldDesc,"onUpdate:modelValue":t[1]||(t[1]=e=>_.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),f(s,{label:"FieldJSON",prop:"fieldJson"},{default:v((()=>[f(i,{modelValue:_.value.fieldJson,"onUpdate:modelValue":t[2]||(t[2]=e=>_.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),f(s,{label:"数据库字段名",prop:"columnName"},{default:v((()=>[f(i,{modelValue:_.value.columnName,"onUpdate:modelValue":t[3]||(t[3]=e=>_.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),f(s,{label:"数据库字段描述",prop:"comment"},{default:v((()=>[f(i,{modelValue:_.value.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>_.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),f(s,{label:"Field数据类型",prop:"fieldType"},{default:v((()=>[f(E,{modelValue:_.value.fieldType,"onUpdate:modelValue":t[5]||(t[5]=e=>_.value.fieldType=e),style:{width:"100%"},placeholder:"请选择field数据类型",clearable:"",onChange:x},{default:v((()=>[(p(!0),n(b,null,c(U.value,(e=>(p(),g(T,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),f(s,{label:"enum"===_.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:v((()=>[f(i,{modelValue:_.value.dataTypeLong,"onUpdate:modelValue":t[6]||(t[6]=e=>_.value.dataTypeLong=e),placeholder:"enum"===_.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),f(s,{label:"Field查询条件",prop:"fieldSearchType"},{default:v((()=>[f(E,{modelValue:_.value.fieldSearchType,"onUpdate:modelValue":t[7]||(t[7]=e=>_.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择Field查询条件",clearable:""},{default:v((()=>[(p(!0),n(b,null,c(h.value,(e=>(p(),g(T,{key:e.value,label:e.label,value:e.value,disabled:"string"!==_.value.fieldType&&"LIKE"===e.value||"int"!==_.value.fieldType&&"time.Time"!==_.value.fieldType&&"float64"!==_.value.fieldType&&("BETWEEN"===e.value||"NOT BETWEEN"===e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),f(s,{label:"关联字典",prop:"dictType"},{default:v((()=>[f(E,{modelValue:_.value.dictType,"onUpdate:modelValue":t[8]||(t[8]=e=>_.value.dictType=e),style:{width:"100%"},disabled:"int"!==_.value.fieldType,placeholder:"请选择字典",clearable:""},{default:v((()=>[(p(!0),n(b,null,c(N.value,(e=>(p(),g(T,{key:e.type,label:`${e.type}(${e.name})`,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),f(s,{label:"是否排序"},{default:v((()=>[f(q,{modelValue:_.value.sort,"onUpdate:modelValue":t[9]||(t[9]=e=>_.value.sort=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"是否必填"},{default:v((()=>[f(q,{modelValue:_.value.require,"onUpdate:modelValue":t[10]||(t[10]=e=>_.value.require=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"是否可清空"},{default:v((()=>[f(q,{modelValue:_.value.clearable,"onUpdate:modelValue":t[11]||(t[11]=e=>_.value.clearable=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"校验失败文案"},{default:v((()=>[f(i,{modelValue:_.value.errorText,"onUpdate:modelValue":t[12]||(t[12]=e=>_.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}}),[["__scopeId","data-v-9dd49345"]]);export{h as default};
