/*! 
 Build based on gin-vue-admin 
 Time : 1678354544000 */
/* empty css             */import{E as e,a as l}from"./form-item.b18f90c3.js";/* empty css               *//* empty css              */import"./tag.0bb54889.js";import{E as a,a as o}from"./select.0319208d.js";import"./scrollbar.561042ca.js";/* empty css               */import{E as u}from"./checkbox.bcafce17.js";import{b as s}from"./stringFun.1a90c7e7.js";import{k as n}from"./autoCode.fc1563f7.js";import{_ as t,a as d,o as p,c as r,d as i,e as m,w as c,a1 as b,V as f,aD as V,f as y,h as k,j as h,c1 as g,b as v,E as U,J as _,d2 as j,d3 as R}from"./index.12a9298d.js";import"./_Uint8Array.f5d85d65.js";import"./_initCloneObject.8371cae6.js";import"./index.bf155b92.js";import"./index.f53077c2.js";import"./strings.e4f34ae9.js";import"./isEqual.471ce309.js";const q={class:"gva-table-box"},C=k("创建"),G=t({__name:"autoPlug",setup(t){const k=d({plugName:"",routerGroup:"",hasGlobal:!0,hasRequest:!0,hasResponse:!0,global:[{key:"",type:"",desc:""}],request:[{key:"",type:"",desc:""}],response:[{key:"",type:"",desc:""}]}),G=()=>{k.plugName=s(k.plugName)},w=async()=>{if(!k.plugName||!k.routerGroup)return void h.error("插件名称和插件路由组为必填项");if(k.hasGlobal){if(k.global.some((e=>{if(!e.key||!e.type)return!0})))return void h.error("全局属性的key和type为必填项")}if(k.hasRequest){if(k.request.some((e=>{if(!e.key||!e.type)return!0})))return void h.error("请求属性的key和type为必填项")}if(k.hasResponse){if(k.response.some((e=>{if(!e.key||!e.type)return!0})))return void h.error("响应属性的key和type为必填项")}0===(await n(k)).code&&g("创建成功，插件已自动写入后端plugin目录下，请按照自己的逻辑进行创造")},x=e=>{e.push({key:"",value:""})},N=(e,l)=>{1!==e.length?e.splice(l,1):h.warning("至少有一个全局属性")};return(s,n)=>{const t=v,d=e,h=u,g=a,E=o,A=U,B=l;return p(),r("div",null,[i("div",q,[m(B,{"label-width":"140px",class:"plug-form"},{default:c((()=>[m(d,{label:"插件名"},{default:c((()=>[m(t,{modelValue:k.plugName,"onUpdate:modelValue":n[0]||(n[0]=e=>k.plugName=e),placeholder:"必填（英文大写字母开头）",onBlur:G},null,8,["modelValue"])])),_:1}),m(d,{label:"路由组"},{default:c((()=>[m(t,{modelValue:k.routerGroup,"onUpdate:modelValue":n[1]||(n[1]=e=>k.routerGroup=e),placeholder:"将会作为插件路由组使用"},null,8,["modelValue"])])),_:1}),m(d,{label:"使用全局属性"},{default:c((()=>[m(h,{modelValue:k.hasGlobal,"onUpdate:modelValue":n[2]||(n[2]=e=>k.hasGlobal=e)},null,8,["modelValue"])])),_:1}),k.hasGlobal?(p(),b(d,{key:0,label:"全局属性"},{default:c((()=>[(p(!0),r(f,null,V(k.global,((e,l)=>(p(),r("div",{key:l,class:"plug-row"},[i("span",null,[m(t,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:c((()=>[m(g,{label:"string",value:"string"}),m(g,{label:"int",value:"int"}),m(g,{label:"float32",value:"float32"}),m(g,{label:"float64",value:"float64"}),m(g,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(t,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(A,{icon:_(j),circle:"",onClick:n[3]||(n[3]=e=>x(k.global))},null,8,["icon"])]),i("span",null,[m(A,{icon:_(R),circle:"",onClick:e=>N(k.global,l)},null,8,["icon","onClick"])])])))),128))])),_:1})):y("",!0),m(d,{label:"使用Request"},{default:c((()=>[m(h,{modelValue:k.hasRequest,"onUpdate:modelValue":n[4]||(n[4]=e=>k.hasRequest=e)},null,8,["modelValue"])])),_:1}),k.hasRequest?(p(),b(d,{key:1,label:"Request"},{default:c((()=>[(p(!0),r(f,null,V(k.request,((e,l)=>(p(),r("div",{key:l,class:"plug-row"},[i("span",null,[m(t,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:c((()=>[m(g,{label:"string",value:"string"}),m(g,{label:"int",value:"int"}),m(g,{label:"float32",value:"float32"}),m(g,{label:"float64",value:"float64"}),m(g,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(t,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(A,{icon:_(j),circle:"",onClick:n[5]||(n[5]=e=>x(k.request))},null,8,["icon"])]),i("span",null,[m(A,{icon:_(R),circle:"",onClick:e=>N(k.request,l)},null,8,["icon","onClick"])])])))),128))])),_:1})):y("",!0),m(d,{label:"使用Response"},{default:c((()=>[m(h,{modelValue:k.hasResponse,"onUpdate:modelValue":n[6]||(n[6]=e=>k.hasResponse=e)},null,8,["modelValue"])])),_:1}),k.hasResponse?(p(),b(d,{key:2,label:"Response"},{default:c((()=>[(p(!0),r(f,null,V(k.response,((e,l)=>(p(),r("div",{key:l,class:"plug-row"},[i("span",null,[m(t,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(E,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,placeholder:"type 必填"},{default:c((()=>[m(g,{label:"string",value:"string"}),m(g,{label:"int",value:"int"}),m(g,{label:"float32",value:"float32"}),m(g,{label:"float64",value:"float64"}),m(g,{label:"bool",value:"bool"})])),_:2},1032,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(t,{modelValue:e.desc,"onUpdate:modelValue":l=>e.desc=l,placeholder:"备注 必填"},null,8,["modelValue","onUpdate:modelValue"])]),i("span",null,[m(A,{icon:_(j),circle:"",onClick:n[7]||(n[7]=e=>x(k.response))},null,8,["icon"])]),i("span",null,[m(A,{icon:_(R),circle:"",onClick:e=>N(k.response,l)},null,8,["icon","onClick"])])])))),128))])),_:1})):y("",!0),m(d,null,{default:c((()=>[m(A,{type:"primary",onClick:w},{default:c((()=>[C])),_:1})])),_:1})])),_:1})])])}}},[["__scopeId","data-v-6641fd51"]]);export{G as default};
