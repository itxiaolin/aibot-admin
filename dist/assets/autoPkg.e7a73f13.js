/*! 
 Build based on gin-vue-admin 
 Time : 1678354544000 */
/* empty css             */import{E as e}from"./dialog.fa5df2a0.js";import"./overlay.257b737a.js";import{E as a,a as l}from"./form-item.b18f90c3.js";/* empty css              */import{E as t,a as o}from"./table-column.61571603.js";import"./checkbox.bcafce17.js";import"./tag.0bb54889.js";/* empty css                *//* empty css               */import"./scrollbar.561042ca.js";/* empty css               */import{i as s,d as i,j as r}from"./autoCode.fc1563f7.js";import{W as d}from"./warningBar.b44e96f3.js";import{_ as p,r as c,o as u,c as m,e as n,d as f,w as b,h as g,j as v,c1 as j,E as k,b as w}from"./index.12a9298d.js";import"./refs.b0cb2972.js";import"./_Uint8Array.f5d85d65.js";import"./_initCloneObject.8371cae6.js";import"./index.bf155b92.js";import"./isEqual.471ce309.js";/* empty css             */const y={class:"gva-table-box"},_={class:"gva-btn-list"},V=g("新增"),h=g("删除"),x={class:"dialog-footer"},C=g("取 消"),N=g("确 定"),E={name:"AutoPkg"},B=p(Object.assign(E,{setup(p){const g=c({packageName:"",label:"",desc:""}),E=c({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,l)=>{/^\d+$/.test(a[0])?l(new Error("不能够以数字开头")):l()},trigger:"blur"}]}),B=c(!1),U=()=>{B.value=!1,g.value={packageName:"",label:"",desc:""}},T=c(null),P=async()=>{T.value.validate((async e=>{if(e){0===(await s(g.value)).code&&v({type:"success",message:"添加成功",showClose:!0}),A(),U()}}))},q=c([]),A=async()=>{const e=await i();0===e.code&&(q.value=e.data.pkgs)};return A(),(s,i)=>{const p=k,c=t,I=o,O=w,D=a,F=l,W=e;return u(),m("div",null,[n(d,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),f("div",y,[f("div",_,[n(p,{type:"primary",icon:"plus",onClick:i[0]||(i[0]=e=>{B.value=!0})},{default:b((()=>[V])),_:1})]),n(I,{data:q.value},{default:b((()=>[n(c,{align:"left",label:"id",width:"60",prop:"ID"}),n(c,{align:"left",label:"包名",width:"150",prop:"packageName"}),n(c,{align:"left",label:"展示名",width:"150",prop:"label"}),n(c,{align:"left",label:"描述","min-width":"150",prop:"desc"}),n(c,{align:"left",label:"操作",width:"200"},{default:b((e=>[n(p,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{j.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await r(e)).code&&(v({type:"success",message:"删除成功!"}),A())}))})(e.row)},{default:b((()=>[h])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),n(W,{modelValue:B.value,"onUpdate:modelValue":i[4]||(i[4]=e=>B.value=e),"before-close":U,title:"创建Package"},{footer:b((()=>[f("div",x,[n(p,{onClick:U},{default:b((()=>[C])),_:1}),n(p,{type:"primary",onClick:P},{default:b((()=>[N])),_:1})])])),default:b((()=>[n(d,{title:"新增Pkg用于自动化代码使用"}),n(F,{ref_key:"pkgForm",ref:T,model:g.value,rules:E.value,"label-width":"80px"},{default:b((()=>[n(D,{label:"包名",prop:"packageName"},{default:b((()=>[n(O,{modelValue:g.value.packageName,"onUpdate:modelValue":i[1]||(i[1]=e=>g.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(D,{label:"展示名",prop:"label"},{default:b((()=>[n(O,{modelValue:g.value.label,"onUpdate:modelValue":i[2]||(i[2]=e=>g.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(D,{label:"描述",prop:"desc"},{default:b((()=>[n(O,{modelValue:g.value.desc,"onUpdate:modelValue":i[3]||(i[3]=e=>g.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-1a433cdb"]]);export{B as default};
